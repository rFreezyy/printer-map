<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Norm Reeves Printer Locations Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>#map { height: 600px; }</style>
</head>
<body>
  <h2>Norm Reeves Dealership Printer Locations</h2>
  <div id="map"></div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
  <script>
    var map = L.map('map').setView([37.773972, -122.431297], 5);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 18 }).addTo(map);
    fetch('dealerships.json')
      .then(res => res.json())
      .then(data => {
        data.forEach(item => {
          var address = item['Street Address'] + ', ' + item.City + ', ' + item.State + ' ' + item.ZIP;
          var count = item['Printer Count'];
          L.Control.Geocoder.nominatim().geocode(address, function(results) {
            if (results && results[0]) {
              var marker = L.marker(results[0].center).addTo(map);
              marker.bindPopup('<b>' + item['Dealership Name'] + '</b><br>Printers: ' + count);
            }
          });
        });
      });
  </script>
</body>
</html>